<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Color Game Analyzer PRO</title>
<style>
body{font-family:Arial;background:#f2f2f2;padding:10px}
.card{background:#fff;padding:12px;margin-bottom:10px;border-radius:8px}
.badge{padding:6px 10px;color:#fff;border-radius:6px;margin:3px;display:inline-block}
.red{background:#ef4444}
.green{background:#22c55e}
.blue{background:#2563eb}
.yellow{background:#facc15;color:#000}
.black{background:#111}
.white{background:#9ca3af}
.result-btn{padding:12px 18px;margin:6px;border:none;border-radius:10px;color:#fff;font-weight:bold;font-size:16px}
.win{color:#16a34a;font-weight:bold}
.loss{color:#dc2626;font-weight:bold}
.highlight{box-shadow:0 0 12px 3px gold}
table{width:100%;border-collapse:collapse;font-size:12px}
th,td{border:1px solid #ccc;padding:6px;text-align:center}
th{background:#eee}
.strength{height:14px;border-radius:10px;background:#e5e7eb;overflow:hidden}
#bar{height:100%;width:0%}
</style>
</head>
<body>

<h2>ðŸŽ¯ Color Game Analyzer PRO</h2>

<div class="card">
Serial Start:
<input id="serialInput" type="number" value="1">
<button onclick="setSerial()">SET</button><br><br>
Capital â‚¹ <input id="capital" type="number" value="1000">
Base Bet % <input id="baseBet" type="number" value="2">
Loss Limit <input id="lossLimit" type="number" value="3">
</div>

<div class="card">
<select id="game" onchange="changeGame()">
<option value="RG">Red / Green</option>
<option value="BY">Blue / Yellow</option>
<option value="BW">Black / White</option>
</select>

<p>
AI Signal: <b id="signal">-</b><br>
Pattern: <b id="pattern">-</b><br>
Confidence: <b id="confidence">-</b><br>
Probability: <b id="prob">0%</b><br>
Suggested Bet: â‚¹<b id="bet">0</b>
</p>

<div class="strength"><div id="bar"></div></div>
</div>

<div class="card">
<h4>ðŸŽ® Select Result</h4>
<div id="buttons"></div>
</div>

<div class="card">
<h4>ðŸ“Š Pattern Accuracy</h4>
<div id="accuracy"></div>
</div>

<div class="card">
<h4>ðŸ“œ History</h4>
<table>
<thead>
<tr>
<th>Serial</th><th>Time</th><th>Game</th>
<th>AI</th><th>Result</th>
<th>Pattern</th><th>Acc%</th><th>Status</th>
</tr>
</thead>
<tbody id="history"></tbody>
</table>
</div>

<script>
let data={RG:[],BY:[],BW:[]}
let serial=1
let game="RG"
let lossCount=0
let historyHTML=[]
let patternStats={}

const patterns=[
 {name:"ALT",re:/^(AB){3,}$/,next:"A"},
 {name:"AABB",re:/^(AABB){2,}$/,next:"A"},
 {name:"BLOCK",re:/A{3,}B{3,}$/,next:"A"}
]

function colors(){
 if(game==="RG")return["Red","Green"]
 if(game==="BY")return["Blue","Yellow"]
 return["Black","White"]
}

function mapAB(arr){
 let c=colors()
 return arr.map(x=>x===c[0]?"A":"B").join("")
}

function ai(){
 let h=data[game]
 if(h.length<5)return {pick:colors()[0],prob:30,conf:"LOW",pattern:"NONE"}

 let recent=h.slice(-10)
 let ab=mapAB(recent)

 for(let p of patterns){
  if(p.re.test(ab)){
   let pick=p.next==="A"?colors()[0]:colors()[1]
   let stat=patternStats[p.name]||{w:0,t:0}
   let acc=stat.t?Math.round(stat.w/stat.t*100):50
   let prob=Math.min(acc+20,95)
   let conf=prob>=70?"HIGH":prob>=40?"MEDIUM":"LOW"
   return {pick,prob,conf,pattern:p.name}
  }
 }
 return {pick:colors()[0],prob:35,conf:"LOW",pattern:"TREND"}
}

function betAmount(conf){
 if(conf==="LOW")return 0
 let cap=+capital.value
 let base=+baseBet.value/100
 if(lossCount>=+lossLimit.value)return 0
 return Math.round(cap*base*Math.pow(1.5,lossCount))
}

function submit(res){
 data[game].push(res)
 let s=ai()
 let bet=betAmount(s.conf)

 if(!patternStats[s.pattern])patternStats[s.pattern]={w:0,t:0}
 patternStats[s.pattern].t++
 let win=s.pick===res
 if(win)patternStats[s.pattern].w++

 let status=win?"WIN":"LOSS"
 let cls=win?"win":"loss"
 if(win)lossCount=0; else lossCount++

 let row=`<tr>
<td>${serial}</td>
<td>${new Date().toLocaleTimeString()}</td>
<td>${game}</td>
<td>${s.pick}</td>
<td>${res}</td>
<td>${s.pattern}</td>
<td>${patternStats[s.pattern].t?Math.round(patternStats[s.pattern].w/patternStats[s.pattern].t*100):0}%</td>
<td class="${cls}">${status}</td>
</tr>`

 historyHTML.unshift(row)
 document.getElementById("history").innerHTML=historyHTML.join("")

 serial++
 update()
}

function update(){
 let s=ai()
 signal.innerText=s.pick
 pattern.innerText=s.pattern
 confidence.innerText=s.conf
 prob.innerText=s.prob+"%"
 bet.innerText=betAmount(s.conf)

 let bar=document.getElementById("bar")
 bar.style.width=s.prob+"%"
 bar.style.background=s.conf==="HIGH"?"#22c55e":s.conf==="MEDIUM"?"#facc15":"#ef4444"

 renderButtons(s.pick)
 renderAccuracy()
}

function renderButtons(high){
 let box=document.getElementById("buttons")
 box.innerHTML=""
 colors().forEach(c=>{
  let h=c===high?"highlight":""
  box.innerHTML+=`<button class="result-btn ${c.toLowerCase()} ${h}" onclick="submit('${c}')">${c}</button>`
 })
}

function renderAccuracy(){
 let box=document.getElementById("accuracy")
 box.innerHTML=""
 for(let p in patternStats){
  let a=Math.round(patternStats[p].w/patternStats[p].t*100)
  box.innerHTML+=`<span class="badge">${p}: ${a}%</span>`
 }
}

function setSerial(){
 serial=+serialInput.value||1
 alert("Serial set to "+serial)
}

function changeGame(){
 game=document.getElementById("game").value
 update()
}

update()
</script>
</body>
</html>